<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Chessmate - chess-bot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="A simple chess AI." />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/output.css" />

    <!-- Google Icons (Material Design) -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      crossorigin="anonymous"
    />

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/5b14db5f0b.js"
      crossorigin="anonymous"
    ></script>

    <!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"
    ></script>

    <!-- Chessboard JS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"
      integrity="sha384-q94+BZtLrkL1/ohfjR8c6L+A6qzNH9R2hBLwyoAfu3i/WCvQjzL2RQJ3uNHDISdU"
      crossorigin="anonymous"
    />
    <script
      defer
      src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"
      integrity="sha384-8Vi8VHwn3vjQ9eUHUxex3JSN/NFqUg3QbPyX8kWyb93+8AC/pPWTzj+nHtbC5bxD"
      crossorigin="anonymous"
    ></script>

    <!-- Chess JS (slightly modified) -->
    <script defer src="/js/chess.js"></script>

    <!-- Bootstrap JS -->
    <script
      defer
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"
      integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm"
      crossorigin="anonymous"
    ></script>

    <!-- Chessbot JS -->
    <script defer src="/js/bot1.js"></script>
  </head>
  <body>
    <div>
      <section
        class="w-full h-full flex flex-col items-center overflow-x-hidden bg-creamwhite"
      >
        <div class="relative w-full h-full flex justify-center items-center">
          <aside
            id="default-sidebar"
            class="absolute top-0 left-0 z-40 w-max h-screen bg-black transition-transform"
            aria-label="Sidebar"
          >
            <div
              class="h-full px-3 py-4 overflow-y-auto bg-darkBlack shadow-md"
            >
              <div class="h-10 w-40 mb-10">
                <img
                  src="/img/logo-no-background.png"
                  alt="logo"
                  class="h-full w-full bg-contain rounded-xl"
                />
              </div>
              <ul class="space-y-2 font-medium">
                <li>
                  <div class="flex flex-col justify-center items-center">
                    <div class="text-xl font-bold text-white mb-2">
                      Settings
                    </div>
                    <div class="flex justify-center items-center text-green">
                      <div class="form-group">
                        <label for="search-depth">Search Depth (Black):</label>
                        <select id="search-depth" class="text-black">
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3" selected>3</option>
                          <option value="4">4</option>
                        </select>
                      </div>
                    </div>
                    <div class="flex justify-center items-center text-green">
                      <div class="form-group">
                        <label for="search-depth-white"
                          >Search Depth (White):</label
                        >
                        <select id="search-depth-white" class="text-black">
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3" selected>3</option>
                          <option value="4">4</option>
                        </select>
                      </div>
                    </div>
                    <div class="flex items-center justify-center text-green">
                      <div class="form-group">
                        <input
                          type="checkbox"
                          id="showHint"
                          name="showHint"
                          value="showHint"
                        />
                        <label for="showHint"
                          >Show Suggested Move (White)</label
                        >
                      </div>
                    </div>
                    <div class="text-xl font-bold text-white mb-2">
                      Openings
                    </div>
                    <div class="flex flex-col justify-center items-center">
                      <button
                        class="bg-green text-white px-3 py-2 rounded-md m-1"
                        id="italianGameBtn"
                      >
                        Italian Game
                      </button>
                      <button
                        class="bg-green text-white px-3 py-2 rounded-md m-1"
                        id="sicilianDefenseBtn"
                      >
                        Sicilian Defense
                      </button>
                      <button
                        class="bg-green text-white px-3 py-2 rounded-md m-1"
                        id="ruyLopezBtn"
                      >
                        Ruy Lopez
                      </button>
                      <button
                        class="bg-green text-white px-3 py-2 rounded-md m-1"
                        id="startBtn"
                      >
                        Reset
                      </button>
                    </div>
                  </div>
                </li>
                <li>
                  <form id="logout-form flex justify-center items-center">
                    <input
                      type="submit"
                      value="Logout"
                      class="flex justify-center items-center p-2 text-black rounded-lg bg-white hover:bg-black hover:text-green mt-10 cursor-pointer"
                    />
                  </form>
                </li>
              </ul>
            </div>
          </aside>
          <div
            class="w-full bg-black min-h-screen flex flex-col justify-center items-center p-3"
          >
            <div class="w-[600px]">
              <div id="myBoard" class="w-full overflow-hidden"></div>
              <div
                class="flex justify-between items-center w-full mt-1 p-1 px-5"
              >
                <button
                  id="undoBtn"
                  class="bg-white text-black font-bold cursor-pointer px-3 py-2 rounded-md"
                >
                  Undo
                </button>
                <button
                  id="redoBtn"
                  class="bg-green text-black font-bold cursor-pointer px-3 py-2 rounded-md"
                >
                  Redo
                </button>
              </div>
            </div>
          </div>

          <aside
            id="default-sidebar"
            class="absolute top-0 right-0 z-40 w-max h-screen bg-black"
            aria-label="Sidebar"
          >
            <div class="flex justify-center items-center mb-2 text-white">
              <span id="position-count" class="text-green">0</span> &nbsp
              positions evaluated in &nbsp
              <span id="time" class="text-green">0</span>s.
            </div>
            <div class="flex mb-3 justify-center items-center text-white">
              That's &nbsp
              <span id="positions-per-s" class="text-green">0</span> &nbsp
              positions / s.
            </div>
            <div class="flex my-3 text-center text-white">
              <div class="col-md-12">
                <h2>Advantage</h2>
                <p>
                  <span id="advantageColor">Neither side</span> has the
                  advantage (+<span id="advantageNumber" class="text-green"
                    >0</span
                  >).
                </p>
                <div class="progress">
                  <div
                    class="progress-bar bg-green progress-bar-striped progress-bar-animated"
                    role="progressbar"
                    aria-valuenow="0"
                    style="width: 50%"
                    aria-valuemin="-2000"
                    aria-valuemax="4000"
                    id="advantageBar"
                  ></div>
                </div>
              </div>
            </div>
            <div class="flex my-3 text-center text-white">
              <div class="col-md-12">
                <h2>Status</h2>
                <p>
                  <span id="status" class="text-green"
                    >No check, checkmate, or draw.</span
                  >
                </p>
              </div>
            </div>

            <div class="dashboard text-white">
              <div class="text-xl text-white font-bold">Dashboard</div>
              <div id="lastMovesContainer">
                <h2>Some Evaluated Moves:</h2>
                <ul id="lastMovesList"></ul>
              </div>
            </div>
          </aside>
        </div>
      </section>
    </div>
    <script>
      const form = document.getElementById("logout-form");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        try {
          const response = await fetch("/logout", {
            method: "GET",
            headers: { "Content-Type": "application/json" },
          });
          location.assign("/login");
        } catch (err) {
          console.log(err);
        }
      });
    </script>
  </body>
</html>
